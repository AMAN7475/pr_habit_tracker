{% extends "base.html" %}

{% block title %}My Habits - Track It{% endblock %}

{% block content %}
<h2 style="color:#fff; text-align:left; margin-left:20px;">
  My Habits 
  <span style="font-size:16px; color:#fff; margin-left:10px; ">
    ({{ today }})
  </span>
</h2>

{% if habits %}
  <div style="margin-top: 20px; max-width: 600px; margin-left:auto; margin-right:auto;">
    {% for habit in habits %}
      <div style="
        display:flex; 
        align-items:center; 
        justify-content:space-between;
        margin:14px 0;
        gap:12px;
      ">

        <!-- Custom styled checkbox -->
        <label style="display:flex; align-items:center; cursor:pointer;">
          <input type="checkbox" style="display:none;" onchange="this.nextElementSibling.classList.toggle('checked')">
          <span style="
            width:22px; height:22px;
            display:inline-block;
            border:2px solid #00ff99;
            border-radius:6px;
            position:relative;
            transition:all 0.3s ease;
          "></span>
        </label>

        <!-- Habit card -->
        <div style="
          background:rgba(255, 255, 255, 0.05);
          padding:8px 10px;   /* ðŸ”¹ shorter */
          border-radius:12px;
          flex:1;
          max-width: 400px;
          text-align:center;
          display:flex;
          align-items:center;
          justify-content:center;
          min-height:34px;   /* ðŸ”¹ smaller height */
          box-shadow:0 2px 6px rgba(0,0,0,0.25);
          transition: all 0.3s ease;
        ">
          <h3 style="margin:0; color:#fff; font-size:16px;"> 
            {{ habit.custom_name if habit.custom_name else habit.habit_name }}
          </h3>
        </div>

        <!-- Remove button -->
        <form action="{{ url_for('remove_habit', habit_id=habit.habit_id) }}" method="POST" style="margin:0;">
          <button style="
            background:rgba(255, 255, 255, 0.05);
            color:#fff;
            border:none;
            padding:8px 14px;
            border-radius:10px;
            font-weight:bold;
            font-size:14px;
            margin-left:10px;
            box-shadow:0px 2px 5px rgba(0,0,0,0.25);
            cursor:pointer;
            transition: background 0.3s ease, color 0.3s ease, transform 0.2s ease; 
          " 
          onmouseover="this.style.background='#ff4d4d'; this.style.color='#000';" 
          onmouseout="this.style.background='rgba(255,255,255,0.05)'; this.style.color='#fff';">
            Remove
          </button>
        </form>  
      </div>
    {% endfor %}
  </div>

  <!-- Custom checkbox tick styling -->
  <style>
    label span.checked {
      background:#00ff99;
    }
    label span.checked::after {
      content: "âœ“";
      color:#000;
      font-size:16px;
      font-weight:bold;
      position:absolute;
      top:50%;
      left:50%;
      transform:translate(-50%, -55%);
    }
  </style>

{% else %}
  <p style="text-align:center; margin-top:30px; color:#bbb;">
    You havenâ€™t added any habits yet. Go to a category and click <b>+ Add Yours</b> to get started.
  </p>
{% endif %}
{% endblock %}
